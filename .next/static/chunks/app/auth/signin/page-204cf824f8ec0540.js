(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{1915:function(e,n,t){Promise.resolve().then(t.bind(t,350))},350:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var i=t(7437),s=t(2265);function a(){let[e,n]=(0,s.useState)(""),[t,a]=(0,s.useState)("idle"),[r,l]=(0,s.useState)(null);async function c(n){n.preventDefault(),a("sending"),l(null);try{if(!(await fetch("/api/auth/signin/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,callbackUrl:"/"})})).ok)throw Error("Failed to request magic link");a("sent")}catch(e){l(e.message||"Error"),a("error")}}return(0,i.jsxs)("main",{className:"p-8 max-w-md mx-auto space-y-4",children:[(0,i.jsx)("h1",{className:"text-xl font-semibold",children:"Sign In"}),(0,i.jsx)("p",{children:"Enter your email to receive a secure magic sign-in link."}),(0,i.jsxs)("form",{onSubmit:c,className:"space-y-3",children:[(0,i.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>n(e.target.value),placeholder:"you@institution.edu",className:"w-full border rounded px-3 py-2"}),(0,i.jsx)("button",{type:"submit",disabled:"sending"===t,className:"bg-gray-800 text-white px-4 py-2 rounded disabled:opacity-60",children:"sending"===t?"Sendingâ€¦":"Send magic link"})]}),"sent"===t&&(0,i.jsx)("p",{className:"text-green-600",children:"Check your inbox for the link."}),r&&(0,i.jsx)("p",{className:"text-red-600",children:r})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1915)}),_N_E=e.O()}]);